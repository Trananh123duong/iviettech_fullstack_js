<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Scores</title>
  </head>
  <body>
    <ul id="listStudent"></ul>
    <h2 id="totalStudentPointFive"></h2>
    <h2>List h·ªçc sinh sau khi add th√™m</h2>
    <ul id="listStudentAfterAdd"></ul>

    <script>
      function $(id) {
        return document.getElementById(id);
      }

      let scores = [];

      function input() {
        let pointInput = prompt("Nh·∫≠p s·ªë l∆∞·ª£ng h·ªçc sinh:");
        if (!pointInput || isNaN(pointInput) || pointInput <= 0) {
          pointInput = 5;
          alert("Kh√¥ng h·ª£p l·ªá. M·∫∑c ƒë·ªãnh s·ªë h·ªçc sinh l√† 5.");
        }
        pointInput = parseInt(pointInput);

        for (let i = 0; i < pointInput; i++) {
          let point = parseFloat(prompt(`Nh·∫≠p ƒëi·ªÉm h·ªçc sinh ${i + 1}:`));
          scores.push(point);
        }

        let listHtml = scores
          .map(
            (score, index) =>
              `<li>H·ªçc sinh ${index + 1} c√≥ ƒëi·ªÉm l√† ${score}</li>`
          )
          .join("");
        $("listStudent").innerHTML = listHtml;
      }

      function countStudentsPointFive() {
        let count = scores.filter((score) => score >= 5).length;
        $(
          "totalStudentPointFive"
        ).innerText = `C√≥ ${count} h·ªçc sinh c√≥ ƒëi·ªÉm l·ªõn h∆°n ho·∫∑c b·∫±ng 5`;
      }

      input();
      countStudentsPointFive();

      function addItemAndSortList() {
        scores.push(8.5, 9.0, 7.0);
        scores.sort(function (a, b) {
          return b - a;
        });
        console.log("üöÄ ~ addItemAndSortList ~ scores:", scores);
        let listHtml = scores
          .map(
            (score, index) =>
              `<li>H·ªçc sinh ${index + 1} c√≥ ƒëi·ªÉm l√† ${score}</li>`
          )
          .join("");
        $("listStudentAfterAdd").innerHTML = listHtml;
      }
      addItemAndSortList();
    </script>
  </body>
</html>
